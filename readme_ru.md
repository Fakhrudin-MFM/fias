Эта страница на [English](/readme.md)

# IONDV. Fias

Fias - приложение IONDV. Framework. Обеспечивает ведение реестра адресов в проектах, реализованных на IONDV.Framework.

### Кратко об IONDV. Framework

IONDV. Framework - это опенсорный фреймворк на node.js для разработки учетных приложений 
или микросервисов на основе метаданных и отдельных модулей. Он является частью 
инструментальной цифровой платформы для создания enterprise 
(ERP) приложений состоящей из опенсорсных компонентов: самого [фреймворка](https://github.com/iondv/framework), 
[модулей](https://github.com/topics/iondv-module) и готовых приложений расширяющих его 
функциональность, визуальной среды [Studio](https://github.com/iondv/studio) для 
разработки метаданных приложений.

Подробнее об [IONDV. Framework на сайте](https://iondv.com), документация доступна в [репозитории на github](https://github.com/iondv/framework/blob/master/docs/en/index.md)

## Описание и назначение

**IONDV. Fias** - является дополнительным приложением, которое содержит единный российский государственный реестр адресов и обеспечивает унификацию структуры адресной информации. IONDV. Fias используется исключительно как дополнение к основному приложению, реализованном на IONDV. Framework.

Для применения функциональных возможностей приложения необходимо для атрибута основного приложения проставить ссылку на класс дополнительного приложения IONDV. Fias с указанием неймспейса. Ссылка проставляется для атрибута в мете классе. Что бы адресные данные отображались при выборе значения атрибута - необходимо перейти в модуль администартивной консоли (в адресной строке приложения ввести /ionadmin/address-import) и выполнить импорт реестра адресов.


## Подключение IONDV. Fias

Для применения функционала приложения IONDV. Fias необходимо выполнить следующие действия:
1. Указать приложение IONDV. Fias в зависимостях основного приложения. В файле package.json основного приложения для свойства `"ionMetaDependencies"` проставить приложение IONDV. Fias с указанием версии:
```
"ionMetaDependencies": {
    "fias": "*"
}
```
2. Клонировать приложение IONDV. Fias в папку `applications`, рядом с основным приложением, для объектов которого будет применяться функционал. Клонируем приложение в папку назначения командой:
```
git clone https://github.com/iondv/fias.git
```
3. В мете класса, для атрибута нужно проставить ссылку на необходимый класс в свойстве `"refClass"`, с указанием пространства имен приложения:
```
"refClass": "address@fias",
```
4. Задать значение свойства `addressImportController` в [настройках конфигурации](https://github.com/iondv/fias/blob/master/deploy.json#L26) приложения:
```
"di": {
    "addressImportController": {
        "module": "applications/fias/lib/controllers/importer",
        "initMethod": "init",
        "initLevel": 0,
        "options": {
            "module": "ion://module",
            "log": "ion://sysLog",
            "src": "[[import.src]]"
        }
    }
}
```
где для свойства `options.src` задан параметр, указывающий на путь до каталога, где лежат файлы ФИАСа. 
3.1 Параметр `import.src` определяется в файле **deploy.ini** приложения.
*Пример:*
```
import.src=/import_fias/data
```
5. Скачать адресные сведения из [государственного адресного реестра](https://fias.nalog.ru/Updates.aspx) в формате .DBF и поместить их в каталог, путь к которому задан в файле **deploy.ini** приложения.

```
import.src=/some/path/to/data
```

## Функциональные возможности

- [x] Обеспечение единой структуры адресной информации.

--------------------------------------------------------------------------  


 #### [Licence](/LICENSE) &ensp;  [Contact us](https://iondv.com) &ensp;  [English](/readme.md)   &ensp; [FAQs](/faqs.md)          

<div><img src="https://mc.iondv.com/watch/local/docs/app/fias" style="position:absolute; left:-9999px;" height=1 width=1 alt="iondv metrics"></div>

--------------------------------------------------------------------------  

Copyright (c) 2018 **LLC "ION DV"**.  
All rights reserved. 

